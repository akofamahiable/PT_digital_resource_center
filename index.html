<!DOCTYPE html>
<html>
<head>
    <title></title>
	<meta charset="utf-8" />


    <script src="https://cdn.rawgit.com/sekando/feednami-client/master/releases/1.0.2.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

    <script src="https://cdn.rawgit.com/sekando/feednami-client/master/releases/1.0.2.min.js"></script>

</head>
<script>
    var url = 'http://feeds.soundcloud.com/users/soundcloud:users:213723577/sounds.rss'
    feednami.load(url, function (result) {
        if (result.error) {
            console.log(result.error)
        }
        else {
            var entries = result.feed.entries
            for (var i = 0; i < entries.length; i++) {
                var entry = entries[i]
                $("#sermonList").append("<input type='checkbox' name='sermonCheckbox' value='" + entry.title + "'>" + entry.title + "</input><br>")                
            }
        }
        $("#sermonList").append("<br>");
        $("#sermonList").append("Name: <input type='text' id='nameInput' class='nameInput name='Name' required/>");
        $("#sermonList").append("Email Address: <input type='text' id='emailInput' class= 'emailInput' name='EmailAddress' required/>");
        $("#sermonList").append("<input type='button' id='submitButton' onclick='buttonOnClick()' value='OK' class='okButton'/>");
                  
                  
       
    })

</script>
<style>
    .info{
        font-size: 18px;
        font-family:Georgia;
        font-style:italic;
    }

    .heading{
        text-align:center
    }
    .sermonForm{        
       font-family:'Bookman Old Style';
        font-size:16px;       
    }

    .sermonInfo{
        font-size:18px;
        font-family:Georgia;
    }

    .total{
     font-size:18px;
        font-family:Georgia;
        font-weight:bold;
    }
</style>
<body style="background-color:burlywood;">
    <a href="http://www.ptspice.org/" style="height:100px; visibility:visible">
        <img class="normal" src="imgs/pentecostal_tabernacle_logo.png" alt="Logo" style="height:100%" />
    </a>
    <h1 class="heading">WELCOME TO THE DIGITAL RESOURCE CENTER</h1>
    
    <div id="viewerMain">
        <p class="info">
            You can select as many sermons as you'd like. Each CD costs $3.
        </p>
        <p class="info">When you're done with your selection, click on submit and your request will be sent to the resource center. </p>
       
        <form id="sermonList" class="sermonForm"></form>
        
    </div>
</body>
<script>

    function buttonOnClick() {
        var items = document.getElementsByName("sermonCheckbox");
        var name = document.getElementById("nameInput").value;
        var email = document.getElementById("emailInput").value;
        var messages = "";

        if (name == "" || email == "")
            alert("Name & email address required to proceed");
        else {
            var selected = [];
            /*console.log(items);*/
            for (var i = 0; i < items.length; i++) {
                if (items[i].checked)
                selected.push(items[i].value);
            }
            $("#viewerMain").empty();

            var total = selected.length * 3;

            $("#viewerMain").append("<p class='info'>Thank you " + name + "! You'll be notified by email at " + email + " when your order is ready to be picked up. Please have your payment ready when you pick up your cd. </p>")
            $("#viewerMain").append("<br><p class='info'>Here's a list of sermons you selected: </p>")
           

            for (var i = 0; i < selected.length; i++) {
                $("#viewerMain").append("<p class='sermonInfo'>" + selected[i] + "</p>");
                messages += selected[i]+"\n";
            }

            $("#viewerMain").append("<br><p class='total'>Your total is $" + total + "</p>");
            console.log(messages);
        }
    }

  /*var url = 'http://feeds.soundcloud.com/users/soundcloud:users:213723577/sounds.rss'
  feednami.load(url,function(result){
    if(result.error){
      console.log(result.error)
    }
    else{
      var entries = result.feed.entries
      for(var i = 0; i < entries.length; i++){
        var entry = entries[i]
        console.log(entry.title)
      }
    }
  })*/

</script>
</html>
